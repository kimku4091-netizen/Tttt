<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ì´ë¯¸ì§€ ì´ì–´ë¶™ì´ê¸°</title>

  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ§©</text></svg>">

  <style>
  :root{
    --background-color:#f4f6f9; --panel-bg:#ffffff; --panel-border:#e0e6ed;
    --text-primary:#2c3e50; --text-secondary:#8a95a5; --header-bg:#2c3e50;
    --accent-primary:#3498db; --accent-primary-dark:#2980b9;
    --accent-secondary:#2ecc71; --accent-secondary-dark:#27ae60;
    --input-bg:#ffffff; --input-border:#dce1e6; --shadow:rgba(44,62,80,.1);
    --inactive-tab-bg:#5f7a95;
    --font-primary:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,'Noto Sans KR',sans-serif;
    --font-secondary:var(--font-primary);
    --thumb-size: 140px;
    --thumb-size-mobile: 128px;
    --thumb-gap: 10px;
  }
  body.dark-mode{
    --background-color:#1c2128; --panel-bg:#2d333b; --panel-border:#444c56;
    --text-primary:#e6edf3; --text-secondary:#909dab; --header-bg:#2d333b;
    --accent-primary:#58a6ff; --accent-primary-dark:#388bfd;
    --accent-secondary:#34d399; --accent-secondary-dark:#10b981;
    --input-bg:#22272e; --input-border:#444c56; --shadow:rgba(0,0,0,.4);
    --inactive-tab-bg:#444c56;
  }
  *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
  body{
    font-family:var(--font-secondary);
    background:var(--background-color); color:var(--text-primary);
    min-height:100vh; display:flex; justify-content:center; align-items:flex-start;
    padding:2rem; transition:background-color .3s,color .3s;
  }
  .container{width:100%;max-width:1200px;display:flex;flex-direction:column;gap:1.25rem;align-items:center}
  .content-wrapper{width:100%}
  .hidden{display:none!important}
  .small{font-size:.9rem;color:var(--text-secondary)}

  .app-header{
    width:100%; background:var(--header-bg); color:#fff;
    padding:1.35rem 2rem; border-radius:16px; text-align:center;
    box-shadow:0 8px 32px var(--shadow); position:relative;
  }
  .app-header h1{font-size:1.65rem;font-weight:700}
  .version-info{position:absolute;top:1.1rem;right:2rem;font-size:.8rem;color:rgba(255,255,255,.85)}
  body.dark-mode .version-info{color:var(--text-secondary)}
  .theme-toggle{
    position:absolute; top:1.1rem; left:2rem; background:var(--inactive-tab-bg); color:#fff;
    border:1px solid transparent; padding:.45rem .9rem; border-radius:20px; cursor:pointer;
    display:flex; align-items:center; gap:.5rem; font-weight:700; font-size:.9rem;
  }
  .theme-toggle:hover{background:var(--accent-primary)}
  .theme-toggle .sun-icon,.theme-toggle .moon-icon{display:none}
  body:not(.dark-mode) .theme-toggle .moon-icon{display:block}
  body.dark-mode .theme-toggle .sun-icon{display:block}
  body.dark-mode .theme-toggle{background:var(--input-bg); color:var(--text-primary); border:1px solid var(--panel-border)}

  .panel{
    background:var(--panel-bg); border:1px solid var(--panel-border); border-radius:16px;
    box-shadow:0 8px 32px var(--shadow); padding:1.6rem;
  }
  .panel-header{margin-bottom:1rem;border-bottom:2px solid var(--accent-primary);padding-bottom:.7rem;display:flex;justify-content:space-between;align-items:center}
  .panel-header h2{font-size:1.18rem;font-weight:800;color:var(--text-primary)}

  /* ë³€ê²½: PCì—ì„œë„ ì„¸ë¡œ ì •ë ¬ */
  #editor-sheet{display:flex;flex-direction:column;gap:2rem}

  .settings-panel{width:100%;max-width:none}
  .results-panel{width:100%;max-width:none}

  .divider{height:1px;background:var(--panel-border);margin:1.2rem 0;border:none}
  .input-group{display:flex;flex-direction:column;margin-bottom:1.4rem}

  .input-group label{font-size:.93rem;font-weight:700;color:var(--text-primary);margin-bottom:.45rem}
  .input-wrapper{
    position:relative; display:flex; align-items:center; background:var(--input-bg);
    border:1px solid var(--input-border); border-radius:8px; overflow:hidden;
  }
  .input-wrapper input,.input-wrapper select{
    width:100%; background:transparent; border:none; padding:.8rem 1rem; font-size:1rem; color:var(--text-primary); font-family:var(--font-secondary)
  }

  .btn{
    display:inline-flex; align-items:center; justify-content:center; gap:.5rem;
    padding:.58rem .9rem; border-radius:10px; background:var(--input-bg);
    color:var(--text-primary); border:1px solid var(--input-border);
    font-weight:800; cursor:pointer; transition:all .2s;
  }
  .btn:hover{background:#f1f5fa;border-color:var(--accent-primary);color:var(--accent-primary)}
  .btn:active{transform:scale(.98)}
  .btn.primary{background:var(--accent-secondary); color:#fff; border:none}
  .btn.primary:hover{background:var(--accent-secondary-dark)}
  .btn-chip{padding:.42rem .65rem; font-size:.92rem}
  .btn.active{background:var(--accent-primary); color:#fff; border-color:var(--accent-primary)}

  .upload-block{padding:12px;border:1px dashed var(--panel-border);border-radius:12px;background:var(--input-bg)}
  .thumb-area{overflow:visible;width:100%}
  .thumb-grid{
    display:grid;
    grid-template-columns: repeat(6, var(--thumb-size));
    gap: var(--thumb-gap);
    width: calc(6 * var(--thumb-size) + 5 * var(--thumb-gap));
    margin: 10px auto 0;
  }
  .thumb{
    position:relative;
    width: var(--thumb-size);
    height: var(--thumb-size);
    overflow:hidden;
    border:1px solid var(--panel-border);
    border-radius:10px;
    background:var(--input-bg);
    user-select:none;
  }
  .thumb img{width:100%; height:100%; object-fit:cover; transform-origin:center center; pointer-events:none}
  .index-badge{position:absolute;top:6px;left:6px;background:rgba(0,0,0,.6);color:#fff;border-radius:6px;padding:2px 6px;font-size:12px}
  .thumb .tools{position:absolute;right:6px;bottom:6px;display:flex;gap:6px}
  .thumb .tools .btn{padding:.25rem .4rem;font-size:.82rem;border-radius:8px}

  .box{padding:12px;background:var(--input-bg);border:1px solid var(--input-border);border-radius:12px}
  .box h4{margin:0 0 8px}
  canvas{max-width:100%;border:1px dashed var(--panel-border);border-radius:10px;background:transparent}

  #loadingOverlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.35);z-index:9999;backdrop-filter:blur(1.5px)}
  #loadingOverlay.show{display:flex}
  #loadingGif{width:160px;height:160px;image-rendering:auto}
  #loadingText{font-weight:800;margin-left:12px}

  @media (max-width:640px){
    body{padding:1rem}
    .thumb-grid{
      grid-template-columns: repeat(2, var(--thumb-size-mobile));
      width: calc(2 * var(--thumb-size-mobile) + 1 * var(--thumb-gap));
    }
    .thumb{width: var(--thumb-size-mobile); height: var(--thumb-size-mobile)}
  }
  </style>
</head>
<body>
  <!-- ë¡œë”© -->
  <div id="loadingOverlay" aria-live="polite" aria-busy="true">
    <img id="loadingGif" src="loading.gif" alt="loading">
    <div id="loadingText">ê°€ì€ì´ê°€ ì—´ì‹¬íˆ ë§Œë“¤ê³  ìˆì–´ìš”! ğŸ’«<span class="dots"></span></div>
  </div>

  <div class="container">
    <header class="app-header">
      <div class="version-info">
        <div>Version: 1.2.1</div>
        <div>Last Updated: 2025.11.01</div>
      </div>
      <button id="theme-toggle" class="theme-toggle">
        <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
          <path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.106a.75.75 0 010 1.06l-1.591 1.591a.75.75 0 11-1.06-1.06l1.591-1.591a.75.75 0 011.06 0zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5h2.25a.75.75 0 01.75.75zM17.894 17.894a.75.75 0 01-1.06 0l-1.591-1.591a.75.75 0 011.06-1.06l1.591 1.591a.75.75 0 010 1.06zM12 18.75a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0v-2.25a.75.75 0 01.75-.75zM5.106 17.894a.75.75 0 010-1.06l1.591-1.591a.75.75 0 011.06 1.06l-1.591 1.591a.75.75 0 01-1.06 0zM3 12a.75.75 0 01.75-.75h2.25a.75.75 0 010 1.5H3.75A.75.75 0 013 12z"/>
        </svg>
        <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
          <path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 004.463-.949a.75.75 0 01.82.162a10.5 10.5 0 11-14.73-14.73a.75.75 0 01.819.162z" clip-rule="evenodd"/>
        </svg>
        <span id="theme-toggle-label"></span>
      </button>
      <h1>ì´ë¯¸ì§€ ì´ì–´ë¶™ì´ê¸°</h1>
    </header>

    <main class="content-wrapper">
      <div id="editor-sheet" class="sheet-content">
        <!-- ì˜µì…˜ ë° ì—…ë¡œë“œ -->
        <section class="panel settings-panel">
          <div class="panel-header"><h2>ì—…ë¡œë“œ ë° ì˜µì…˜</h2></div>
          <div class="upload-block">
            <div class="input-group">
              <label for="fileInput">ì´ë¯¸ì§€ ì—…ë¡œë“œ</label>
              <div class="input-wrapper"><input id="fileInput" type="file" multiple accept="image/*" /></div>
              <div class="small">ë“œë˜ê·¸ë¡œ ìˆœì„œ ë³€ê²½ Â· â†» íšŒì „ Â· âŒ ì‚­ì œ Â· ì´ë¦„ì •ë ¬</div>
              <div style="display:flex;gap:.5rem;margin-top:.6rem;flex-wrap:wrap">
                <button id="sortAsc" class="btn btn-chip">ì´ë¦„ìˆœ</button>
                <button id="sortDesc" class="btn btn-chip">ì´ë¦„ ì—­ìˆœ</button>
                <button id="clearAll" class="btn btn-chip">ëª¨ë‘ ì§€ìš°ê¸°</button>
              </div>
            </div>
            <div class="thumb-area"><div id="thumbContainer" class="thumb-grid"></div></div>
          </div>
        </section>

        <!-- ë¯¸ë¦¬ë³´ê¸° -->
        <section class="panel results-panel">
          <div class="panel-header"><h2>ë¯¸ë¦¬ë³´ê¸°</h2></div>
          <div id="infoLine" class="small"></div>
          <div id="estLine" class="small" style="margin:.6rem 0"></div>
          <div class="box"><h4>ì¶•ì†Œ ë¯¸ë¦¬ë³´ê¸°</h4><canvas id="previewSmall"></canvas></div>
          <div class="box" style="margin-top:1rem"><h4>í° ë¯¸ë¦¬ë³´ê¸° (ì„¸ë¡œ ìµœëŒ€ 10,000px)</h4><canvas id="previewLarge"></canvas></div>
        </section>
      </div>
    </main>
  </div>
</body>
</html>
